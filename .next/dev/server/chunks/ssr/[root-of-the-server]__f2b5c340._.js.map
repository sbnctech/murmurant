{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/edf/clubos/src/app/admin/page.tsx"],"sourcesContent":["type Member = {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n};\n\ntype EventItem = {\n  id: string;\n  title: string;\n  category: string;\n  startTime: string;\n};\n\ntype RegistrationItem = {\n  id: string;\n  memberId: string;\n  eventId: string;\n  status: string;\n};\n\nasync function getMembers(): Promise<Member[]> {\n  const res = await fetch(\"/api/members\", {\n    cache: \"no-store\",\n  });\n\n  if (!res.ok) {\n    console.error(\"Failed to fetch members:\", res.status, res.statusText);\n    return [];\n  }\n\n  const data = await res.json();\n  return data.members ?? [];\n}\n\nasync function getEvents(): Promise<EventItem[]> {\n  const res = await fetch(\"/api/events\", {\n    cache: \"no-store\",\n  });\n\n  if (!res.ok) {\n    console.error(\"Failed to fetch events:\", res.status, res.statusText);\n    return [];\n  }\n\n  const data = await res.json();\n  return data.events ?? [];\n}\n\nfunction resolveMemberName(memberId: string, members: Member[]): string {\n  const member = members.find((m) => m.id === memberId);\n  if (!member) return memberId;\n  return `${member.firstName} ${member.lastName}`;\n}\n\nfunction resolveEventTitle(eventId: string, events: EventItem[]): string {\n  const event = events.find((e) => e.id === eventId);\n  if (!event) return eventId;\n  return event.title;\n}\n\nexport default async function AdminPage() {\n  const [members, events] = await Promise.all([\n    getMembers(),\n    getEvents(),\n  ]);\n\n  // Temporary hard-coded registrations, joined in memory with members and events\n  const registrations: RegistrationItem[] = [\n    {\n      id: \"r1\",\n      memberId: \"m1\",\n      eventId: \"e1\",\n      status: \"REGISTERED\",\n    },\n    {\n      id: \"r2\",\n      memberId: \"m2\",\n      eventId: \"e2\",\n      status: \"WAITLISTED\",\n    },\n  ];\n\n  return (\n    <div data-test-id=\"admin-root\" style={{ padding: \"20px\" }}>\n      <header\n        data-test-id=\"admin-header\"\n        style={{ fontSize: \"24px\", marginBottom: \"20px\" }}\n      >\n        Admin\n      </header>\n\n      {/* Members section */}\n      <section style={{ marginBottom: \"24px\" }}>\n        <h2 style={{ fontSize: \"18px\", marginBottom: \"8px\" }}>\n          Members overview\n        </h2>\n        <p style={{ marginBottom: \"12px\" }}>\n          This table is backed by the /api/members endpoint. Data is currently\n          mocked and will later be replaced with database-backed queries.\n        </p>\n      </section>\n\n      <section style={{ marginBottom: \"32px\" }}>\n        <table\n          data-test-id=\"admin-members-table\"\n          style={{\n            width: \"100%\",\n            borderCollapse: \"collapse\",\n            maxWidth: \"800px\",\n          }}\n        >\n          <thead>\n            <tr>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Name\n              </th>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Email\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {members.map((member) => (\n              <tr\n                key={member.id}\n                data-test-id=\"admin-members-row\"\n              >\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {member.firstName} {member.lastName}\n                </td>\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {member.email}\n                </td>\n              </tr>\n            ))}\n            {members.length === 0 && (\n              <tr data-test-id=\"admin-members-empty-state\">\n                <td\n                  colSpan={2}\n                  style={{ padding: \"8px\", fontStyle: \"italic\", color: \"#666\" }}\n                >\n                  No members found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </section>\n\n      {/* Events section */}\n      <section style={{ marginBottom: \"24px\" }}>\n        <h2 style={{ fontSize: \"18px\", marginBottom: \"8px\" }}>\n          Events overview\n        </h2>\n        <p style={{ marginBottom: \"12px\" }}>\n          This table is backed by the /api/events endpoint. Data is currently\n          mocked and will later be replaced with database-backed queries.\n        </p>\n      </section>\n\n      <section style={{ marginBottom: \"32px\" }}>\n        <table\n          data-test-id=\"admin-events-table\"\n          style={{\n            width: \"100%\",\n            borderCollapse: \"collapse\",\n            maxWidth: \"800px\",\n          }}\n        >\n          <thead>\n            <tr>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Title\n              </th>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Category\n              </th>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Start time\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {events.map((event) => (\n              <tr\n                key={event.id}\n                data-test-id=\"admin-events-row\"\n              >\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {event.title}\n                </td>\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {event.category}\n                </td>\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {event.startTime}\n                </td>\n              </tr>\n            ))}\n            {events.length === 0 && (\n              <tr data-test-id=\"admin-events-empty-state\">\n                <td\n                  colSpan={3}\n                  style={{ padding: \"8px\", fontStyle: \"italic\", color: \"#666\" }}\n                >\n                  No events found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </section>\n\n      {/* Registrations section */}\n      <section style={{ marginBottom: \"24px\" }}>\n        <h2 style={{ fontSize: \"18px\", marginBottom: \"8px\" }}>\n          Registrations overview\n        </h2>\n        <p style={{ marginBottom: \"12px\" }}>\n          This table is currently backed by in-memory mock registrations joined\n          with members and events. In the next phase, this will be replaced with\n          a database-backed query.\n        </p>\n      </section>\n\n      <section>\n        <table\n          data-test-id=\"admin-registrations-table\"\n          style={{\n            width: \"100%\",\n            borderCollapse: \"collapse\",\n            maxWidth: \"800px\",\n          }}\n        >\n          <thead>\n            <tr>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Member\n              </th>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Event\n              </th>\n              <th style={{ borderBottom: \"1px solid #ccc\", textAlign: \"left\", padding: \"8px\" }}>\n                Status\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {registrations.map((registration) => (\n              <tr\n                key={registration.id}\n                data-test-id=\"admin-registrations-row\"\n              >\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {resolveMemberName(registration.memberId, members)}\n                </td>\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {resolveEventTitle(registration.eventId, events)}\n                </td>\n                <td style={{ borderBottom: \"1px solid #eee\", padding: \"8px\" }}>\n                  {registration.status}\n                </td>\n              </tr>\n            ))}\n            {registrations.length === 0 && (\n              <tr data-test-id=\"admin-registrations-empty-state\">\n                <td\n                  colSpan={3}\n                  style={{ padding: \"8px\", fontStyle: \"italic\", color: \"#666\" }}\n                >\n                  No registrations found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}